{"version":3,"file":"helpers-D2s_2jWB.js","sources":["../../src/js/refs.js","../../src/js/storage.js","../../src/js/constants.js","../../src/js/products-api.js","../../src/js/render-function.js","../../src/js/modal.js","../../src/js/helpers.js"],"sourcesContent":["export const refs = {\n  closeModalBtn: document.querySelector('.modal__close-btn'),\n\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n\n  body: document.querySelector('body'),\n\n  themeToggleBtn: document.querySelector('.theme-toggle-btn'),\n\n  categoriesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n\n  notFound: document.querySelector('.not-found'),\n\n  searchInput: document.querySelector('.search-form__input'),\n  searchForm: document.querySelector('.search-form'),\n  searchClearBtn: document.querySelector('.search-form__btn-clear'),\n\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  scrollUpBtn: document.querySelector('.scroll-top-btn'),\n  navCount: document.querySelector('.nav__count'),\n\n  loader: document.querySelector('.loader-overlay'),\n\n  cartItemsCount: document.querySelector('.cart-items-count'),\n  cartTotal: document.querySelector('.cart-total'),\n  buyProductsBtn: document.querySelector('.cart-summary__btn'),\n};","export function saveToLS(key, value) {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (error) {\n    console.error('Error saving to LocalStorage:', error);\n  }\n}\n\nexport function loadFromLS(key) {\n  try {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : null;\n  } catch (error) {\n    console.error('Error loading from LocalStorage:', error);\n    return null;\n  }\n}\n\n\nexport function getTheme() {\n  return loadFromLS('theme') || 'light';\n}\nexport function saveTheme(theme) {\n  saveToLS('theme', theme);\n}\n\nexport function getCart() {\n  return loadFromLS('cart') || [];\n}\nexport function addToCart(id) {\n  const arr = new Set(getCart().map(Number));\n  arr.add(Number(id));\n  saveToLS('cart', [...arr]);\n}\nexport function removeFromCart(id) {\n  const arr = getCart().filter(i => Number(i) !== Number(id));\n  saveToLS('cart', arr);\n}\nexport function isInCart(id) {\n  return getCart().map(Number).includes(Number(id));\n}\n\nexport function getWishlist() {\n  return loadFromLS('wishlist') || [];\n}\nexport function addToWishlist(id) {\n  const arr = new Set(getWishlist().map(Number));\n  arr.add(Number(id));\n  saveToLS('wishlist', [...arr]);\n}\nexport function removeFromWishlist(id) {\n  const arr = getWishlist().filter(i => Number(i) !== Number(id));\n  saveToLS('wishlist', arr);\n}\nexport function isInWishlist(id) {\n  return getWishlist().map(Number).includes(Number(id));\n}","export const API_BASE_URL = 'https://dummyjson.com';\nexport const API_ENDPOINTS = {\n  PRODUCTS: '/products',\n  PRODUCTS_BY_ID: '/products/',\n  CATEGORIES: '/products/category-list',\n  SEARCH: '/products/search',\n};\n\nexport const ITEMS_PER_PAGE = 12;\n\n","import axios from 'axios';\nimport { API_BASE_URL, API_ENDPOINTS, ITEMS_PER_PAGE } from './constants';\naxios.defaults.baseURL = API_BASE_URL;\n\nexport async function getProducts(page = 1) {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.PRODUCTS}?limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n}\n\nexport async function getCategories() {\n  const { data } = await axios.get(API_ENDPOINTS.CATEGORIES);\n  return data;\n}\n\nexport async function getProductById(id) {\n  const { data } = await axios.get(`${API_ENDPOINTS.PRODUCTS_BY_ID}${id}`);\n  return data;\n}\n\nexport async function searchProducts(q, page = 1) {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.SEARCH}?q=${encodeURIComponent(\n      q\n    )}&limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n}\n\nexport async function searchAllProducts(q, page = 1) {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.PRODUCTS\n    }?q=${encodeURIComponent(q)}&limit=0&skip=${skip}`\n  );\n  return data;\n}\n\nexport async function getProductsByCategory(category, page = 1) {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n\n  const cat = encodeURIComponent(category);\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.PRODUCTS}/category/${cat}?limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n}\n","import { refs } from './refs';\nimport { getCart,getWishlist } from './storage';\n\nexport async function renderProducts(products) {\n  const markup = products\n    .map(\n      ({\n        thumbnail,\n        id,\n        description,\n        title,\n        price,\n        category,\n        brand,\n      }) => `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${description}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${\n      brand || 'no brand'\n    }</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`\n    )\n    .join('');\n \n  \n  \n  refs.productsList.insertAdjacentHTML('beforeEnd', markup);\n}\n\nexport function renderCategories(categories) {\n  const categoryList = ['All', ...categories];\n  const markup = categoryList\n    .map(\n      item =>\n        `<li class=\"categories__item\">\n    <button class=\"categories__btn\" type=\"button\">${item}</button>\n    </li>`\n    )\n    .join('');\n  refs.categoriesList.innerHTML = markup;\n}\n\nexport function renderModalProduct(product) {\n  const modalRoot = refs.modal.querySelector('.modal-product');\n\n  modalRoot.innerHTML = `<img class=\"modal-product__img\" src=\"${\n    product.thumbnail\n  }\" alt=\"${product.description}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${product.title}</p>\n        <ul class=\"modal-product__tags\">${product.tags\n          ?.map(tag => `<li>#${tag}</li>`)\n          .join('')}</ul>\n        <p class=\"modal-product__description\">${product.description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${\n          product.shippingInformation || 'N/A'\n        }</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${\n          product.returnPolicy || 'N/A'\n        }</p>\n        <p class=\"modal-product__price\">Price: ${product.price}$</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n`;\n}\n\nexport function updateNavCount() {\n  if (!refs.navCount) return;\n  const count = getCart().length + getWishlist().length;\n  refs.navCount.textContent = count;\n}","import { refs } from './refs';\n\nexport function openModal() {\n  refs.modal.classList.add('modal--is-open');\n  document.body.style.overflow = 'hidden';\n\n  window.addEventListener('keydown', onEscPress);\n  refs.modal.addEventListener('click', onBackDropClick);\n  refs.closeModalBtn.addEventListener('click', closeModal);\n}\n\nexport function closeModal() {\n  refs.modal.classList.remove('modal--is-open');\n  document.body.style.overflow = '';\n\n  window.removeEventListener('keydown', onEscPress);\n  refs.modal.removeEventListener('click', onBackDropClick);\n  refs.closeModalBtn.removeEventListener('click', closeModal);\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackDropClick(e) {\n  if (e.target === refs.modal) {\n    closeModal();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { refs } from './refs';\n\nexport function toggleTheme(theme) {\n  document.body.setAttribute('data-theme', theme);\n  document.body.dataset.theme = theme;\n\n  refs.themeToggleBtn.innerHTML = theme === 'light' ? 'üåô' : '‚òÄÔ∏è';\n}\n\nexport function showLoader() {\n  if (!refs.loader) return;\n  refs.loader.classList.remove('hidden');\n}\nexport function hideLoader() {\n  if (!refs.loader) return;\n  refs.loader.classList.add('hidden');\n}\n\nexport function toastSuccess(msg) {\n  iziToast.success({ title: 'OK', message: msg, position: 'topRight' });\n}\nexport function toastError(msg) {\n  iziToast.error({ title: 'Error', message: msg, position: 'topRight' });\n}\nexport function toastInfo(msg) {\n  iziToast.info({ title: 'Info', message: msg, position: 'topRight' });\n}\n\nexport function formatPrice(num) {\n  return Number(num).toFixed(2);\n}\n\nexport function clearActiveCategory() {\n  const activeBtn = document.querySelector('.categories__btn--active');\n  if (activeBtn) activeBtn.classList.remove('categories__btn--active');\n}\n"],"names":["refs","saveToLS","key","value","error","loadFromLS","data","getTheme","saveTheme","theme","getCart","addToCart","id","arr","removeFromCart","i","isInCart","getWishlist","addToWishlist","removeFromWishlist","isInWishlist","API_BASE_URL","API_ENDPOINTS","ITEMS_PER_PAGE","axios","getProducts","page","skip","getCategories","getProductById","searchProducts","q","searchAllProducts","getProductsByCategory","category","cat","renderProducts","products","markup","thumbnail","description","title","price","brand","renderCategories","categories","item","renderModalProduct","product","modalRoot","tag","updateNavCount","count","openModal","onEscPress","onBackDropClick","closeModal","e","toggleTheme","showLoader","hideLoader","toastSuccess","msg","iziToast","toastError","toastInfo","clearActiveCategory","activeBtn"],"mappings":"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"}