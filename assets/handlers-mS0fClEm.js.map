{"version":3,"file":"handlers-mS0fClEm.js","sources":["../../src/js/refs.js","../../src/js/storage.js","../../src/js/constants.js","../../src/js/products-api.js","../../src/js/render-function.js","../../src/js/helpers.js","../../src/js/modal.js","../../src/js/handlers.js"],"sourcesContent":["export const refs = {\n  closeModalBtn: document.querySelector('.modal__close-btn'),\n\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n\n  body: document.querySelector('body'),\n\n  themeToggleBtn: document.querySelector('.theme-toggle-btn'),\n\n  categoriesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n\n  notFound: document.querySelector('.not-found'),\n\n  searchInput: document.querySelector('.search-form__input'),\n  searchForm: document.querySelector('.search-form'),\n  searchClearBtn: document.querySelector('.search-form__btn-clear'),\n\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  scrollUpBtn: document.querySelector('.scroll-top-btn'),\n  navCount: document.querySelector('.nav__count'),\n\n  loader: document.querySelector('.loader-overlay'),\n\n  cartItemsCount: document.querySelector('[data-count]'),\n  cartTotal: document.querySelector('[data-price]'),\n  buyProductsBtn: document.querySelector('.cart-summary__btn'),\n};","export function saveToLS(key, value) {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (error) {\n    console.error('Error saving to LocalStorage:', error);\n  }\n}\n\nexport function loadFromLS(key) {\n  try {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : null;\n  } catch (error) {\n    console.error('Error loading from LocalStorage:', error);\n    return null;\n  }\n}\n\n\nexport function getTheme() {\n  return loadFromLS('theme') || 'light';\n}\nexport function saveTheme(theme) {\n  saveToLS('theme', theme);\n}\n\nexport function getCart() {\n  return loadFromLS('cart') || [];\n}\nexport function addToCart(id) {\n  const arr = new Set(getCart().map(Number));\n  arr.add(Number(id));\n  saveToLS('cart', [...arr]);\n}\nexport function removeFromCart(id) {\n  const arr = getCart().filter(i => Number(i) !== Number(id));\n  saveToLS('cart', arr);\n}\nexport function isInCart(id) {\n  return getCart().map(Number).includes(Number(id));\n}\n\nexport function getWishlist() {\n  return loadFromLS('wishlist') || [];\n}\nexport function addToWishlist(id) {\n  const arr = new Set(getWishlist().map(Number));\n  arr.add(Number(id));\n  saveToLS('wishlist', [...arr]);\n}\nexport function removeFromWishlist(id) {\n  const arr = getWishlist().filter(i => Number(i) !== Number(id));\n  saveToLS('wishlist', arr);\n}\nexport function isInWishlist(id) {\n  return getWishlist().map(Number).includes(Number(id));\n}","export const API_BASE_URL = 'https://dummyjson.com';\nexport const API_ENDPOINTS = {\n  PRODUCTS: '/products',\n  PRODUCTS_BY_ID: '/products/',\n  CATEGORIES: '/products/category-list',\n  SEARCH: '/products/search',\n};\n\nexport const ITEMS_PER_PAGE = 12;\n\n","import axios from 'axios';\nimport { API_BASE_URL, API_ENDPOINTS, ITEMS_PER_PAGE } from './constants';\naxios.defaults.baseURL = API_BASE_URL;\n\nexport async function getProducts(page = 1) {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.PRODUCTS}?limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n}\n\nexport async function getCategories() {\n  const { data } = await axios.get(API_ENDPOINTS.CATEGORIES);\n  return data;\n}\n\nexport async function getProductById(id) {\n  const { data } = await axios.get(`${API_ENDPOINTS.PRODUCTS_BY_ID}${id}`);\n  return data;\n}\n\nexport async function searchProducts(q, page = 1) {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.SEARCH}?q=${encodeURIComponent(\n      q\n    )}&limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n}\n\nexport async function searchAllProducts(q, page = 1) {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.PRODUCTS\n    }?q=${encodeURIComponent(q)}&limit=0&skip=${skip}`\n  );\n  return data;\n}\n\nexport async function getProductsByCategory(category, page = 1) {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n\n  const cat = encodeURIComponent(category);\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.PRODUCTS}/category/${cat}?limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n}\n","import { refs } from './refs';\nimport { getCart,getWishlist } from './storage';\n\nexport async function renderProducts(products) {\n  const markup = products\n    .map(\n      ({\n        thumbnail,\n        id,\n        description,\n        title,\n        price,\n        category,\n        brand,\n      }) => `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${description}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${\n      brand || 'no brand'\n    }</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`\n    )\n    .join('');\n\n\n\n  refs.productsList.insertAdjacentHTML('beforeEnd', markup);\n}\n\nexport function renderCategories(categories) {\n  const categoryList = ['All', ...categories];\n  const markup = categoryList\n    .map(\n      item =>\n        `<li class=\"categories__item\">\n    <button class=\"categories__btn\" type=\"button\">${item}</button>\n    </li>`\n    )\n    .join('');\n  refs.categoriesList.innerHTML = markup;\n}\n\nexport function renderModalProduct(product) {\n  const modalRoot = refs.modal.querySelector('.modal-product');\n\n  modalRoot.innerHTML = `<img class=\"modal-product__img\" src=\"${\n    product.thumbnail\n  }\" alt=\"${product.description}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${product.title}</p>\n        <ul class=\"modal-product__tags\">${product.tags\n          ?.map(tag => `<li>#${tag}</li>`)\n          .join('')}</ul>\n        <p class=\"modal-product__description\">${product.description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${\n          product.shippingInformation || 'N/A'\n        }</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${\n          product.returnPolicy || 'N/A'\n        }</p>\n        <p class=\"modal-product__price\">Price: ${product.price}$</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n`;\n}\n\n\nexport function updateNavCount() {\n  const cartEl = document.querySelector('[data-cart-count]');\n  const wishlistEl = document.querySelector('[data-wishlist-count]');\n\n  if (!cartEl || !wishlistEl) return;\n\n  const cartCount = getCart().length;\n  const wishlistCount = getWishlist().length;\n\n  cartEl.textContent = cartCount;\n  wishlistEl.textContent = wishlistCount;\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { refs } from './refs';\n\nexport function toggleTheme(theme) {\n  document.body.setAttribute('data-theme', theme);\n  document.body.dataset.theme = theme;\n\n  refs.themeToggleBtn.innerHTML = theme === 'light' ? 'ðŸŒ™' : 'â˜€ï¸';\n}\n\nexport function showLoader() {\n  if (!refs.loader) return;\n  refs.loader.classList.remove('hidden');\n}\nexport function hideLoader() {\n  if (!refs.loader) return;\n  refs.loader.classList.add('hidden');\n}\n\nexport function toastSuccess(msg) {\n  iziToast.success({ title: 'OK', message: msg, position: 'topRight' });\n}\nexport function toastError(msg) {\n  iziToast.error({ title: 'Error', message: msg, position: 'topRight' });\n}\nexport function toastInfo(msg) {\n  iziToast.info({ title: 'Info', message: msg, position: 'topRight' });\n}\n\nexport function formatPrice(num) {\n  return Number(num).toFixed(2);\n}\n\nexport function clearActiveCategory() {\n  const activeBtn = document.querySelector('.categories__btn--active');\n  if (activeBtn) activeBtn.classList.remove('categories__btn--active');\n}\n","import { refs } from './refs';\n\nexport function openModal() {\n  refs.modal.classList.add('modal--is-open');\n  document.body.style.overflow = 'hidden';\n\n  window.addEventListener('keydown', onEscPress);\n  refs.modal.addEventListener('click', onBackDropClick);\n  refs.closeModalBtn.addEventListener('click', closeModal);\n}\n\nexport function closeModal() {\n  refs.modal.classList.remove('modal--is-open');\n  document.body.style.overflow = '';\n\n  window.removeEventListener('keydown', onEscPress);\n  refs.modal.removeEventListener('click', onBackDropClick);\n  refs.closeModalBtn.removeEventListener('click', closeModal);\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackDropClick(e) {\n  if (e.target === refs.modal) {\n    closeModal();\n  }\n}\n","import * as api from './products-api';\nimport { refs } from './refs';\nimport {\n  renderCategories,\n  renderProducts,\n  renderModalProduct,\n  updateNavCount,\n} from './render-function';\nimport {\n  showLoader,\n  hideLoader,\n  toastError,\n  toastSuccess,\n  toastInfo,\n  clearActiveCategory,\n} from './helpers';\nimport * as storage from './storage';\nimport { openModal, closeModal } from './modal';\nimport { ITEMS_PER_PAGE } from './constants';\n\nlet currentPage = 1;\nlet currentCategory = 'All';\nlet currentQuery = '';\nlet totalProducts = 0;\n\nexport async function initHomePage() {\n  try {\n    showLoader();\n    const categories = await api.getCategories();\n    renderCategories(categories);\n    currentPage = 1;\n    await loadProducts({ reset: true });\n    updateNavCount();\n    if (refs.searchClearBtn) refs.searchClearBtn.classList.add('hidden');\n  } catch (err) {\n    console.error(err);\n    toastError('Failed to initialize home page');\n  } finally {\n    hideLoader();\n  }\n}\n\nexport async function loadProducts({ reset = false } = {}) {\n  try {\n    if (reset) currentPage = 1;\n    showLoader();\n    let resp;\n    if (currentQuery) {\n      resp = await api.searchProducts(currentQuery, currentPage);\n    } else if (currentCategory && currentCategory !== 'All') {\n      resp = await api.getProductsByCategory(currentCategory, currentPage);\n    } else {\n      resp = await api.getProducts(currentPage);\n    }\n    const products = resp.products || [];\n    totalProducts = resp.total ?? products.length;\n    if (!products.length) {\n      refs.productsList.innerHTML = '';\n      if (refs.notFound) refs.notFound.classList.add('not-found--visible');\n      if (refs.loadMoreBtn) refs.loadMoreBtn.classList.add('is-hidden');\n      return;\n    } else {\n      if (refs.notFound) refs.notFound.classList.remove('not-found--visible');\n    }\n    const append = !reset && currentPage > 1;\n    renderProducts(products, { append });\n    const loaded = (currentPage - 1) * ITEMS_PER_PAGE + products.length;\n    if (loaded >= totalProducts) {\n      if (refs.loadMoreBtn) refs.loadMoreBtn.classList.add('is-hidden');\n      toastInfo('No more products to load');\n    } else {\n      if (refs.loadMoreBtn) refs.loadMoreBtn.classList.remove('is-hidden');\n    }\n  } catch (err) {\n    console.error(err);\n    toastError('Failed to load products');\n  } finally {\n    hideLoader();\n  }\n}\n\nexport function categoriesClickHandler(e) {\n  const btn = e.target.closest('.categories__btn');\n  if (!btn) return;\n\n  refs.searchInput.value = '';\n  const category = btn.textContent.trim();\n\n  currentCategory = category;\n  currentQuery = '';\n  currentPage = 1;\n\n  const allBtns = refs.categoriesList.querySelectorAll('.categories__btn');\n  allBtns.forEach(b =>\n    b.classList.toggle('categories__btn--active', b === btn)\n  );\n  loadProducts({ reset: true });\n\n  if (category === 'All') {\n    loadProductsAll();\n  } else {\n    loadProductsByCategory(category);\n  }\n}\n\nasync function loadProductsAll() {\n  try {\n    const { products } = await api.getProducts(currentPage);\n    checkFound(products);\n    refs.productsList.innerHTML = '';\n    renderProducts(products);\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nasync function loadProductsByCategory(category) {\n  try {\n    const { products } = await api.getProductsByCategory(category, currentPage);\n    checkFound(products);\n\n    refs.productsList.innerHTML = '';\n    renderProducts(products);\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nfunction checkFound(products) {\n  if (!products || products.length === 0) {\n    refs.notFound.classList.add('not-found--visible');\n  } else {\n    refs.notFound.classList.remove('not-found--visible');\n  }\n}\n\nexport async function openProductModal(productId) {\n  try {\n    const product = await api.getProductById(productId);\n\n    renderModalProduct(product);\n    openModal();\n\n\n    syncModalButtons(product.id);\n\n\n    attachModalButtons(product.id);\n  } catch (err) {\n    console.error(err);\n    toastError('Failed to load product');\n  }\n}\n\nexport async function productsClickHandler(e) {\n  const li = e.target.closest('.products__item');\n  if (!li) return;\n\n  const id = li.dataset.id;\n  if (!id) return;\n\n  try {\n    showLoader();\n    const product = await api.getProductById(id);\n    renderModalProduct(product);\n    openModal();\n    syncModalButtons(product.id);\n    attachModalButtons(product.id);\n  } catch (err) {\n    console.error(err);\n    toastError('Failed to load product details');\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction attachModalButtons(productId) {\n  const wishlistBtn = refs.modal.querySelector('.modal-product__btn--wishlist');\n  const cartBtn = refs.modal.querySelector('.modal-product__btn--cart');\n  const buyBtn = refs.modal.querySelector('.modal-product__buy-btn');\n\n  if (wishlistBtn) {\n    wishlistBtn.onclick = () => {\n      if (storage.isInWishlist(productId)) {\n        storage.removeFromWishlist(productId);\n        wishlistBtn.textContent = 'Add to Wishlist';\n        toastInfo('Removed from wishlist');\n      } else {\n        storage.addToWishlist(productId);\n        wishlistBtn.textContent = 'Remove from Wishlist';\n        toastSuccess('Added to wishlist');\n      }\n      updateNavCount();\n      if (onWishlistChanged) {\n       onWishlistChanged();\n      }\n      syncModalButtons(productId);\n    };\n  }\n\n  if (cartBtn) {\n    cartBtn.onclick = () => {\n      if (storage.isInCart(productId)) {\n        storage.removeFromCart(productId);\n        cartBtn.textContent = 'Add to Cart';\n        toastInfo('Removed from cart');\n      } else {\n        storage.addToCart(productId);\n        cartBtn.textContent = 'Remove from Cart';\n        toastSuccess('Added to cart');\n      }\n      updateNavCount();\n      if (onCartChanged) {\n        onCartChanged();\n      }\n      syncModalButtons(productId);\n    };\n  }\n\n  if (buyBtn) {\n    buyBtn.onclick = () => {\n      if (window.iziToast)\n        iziToast.success({ title: 'Success', message: 'Purchase complete' });\n    };\n  }\n}\n\nexport function loadMoreHandler() {\n  currentPage += 1;\n  loadProducts({ reset: false });\n}\n\nexport async function searchSubmitHandler(e) {\n  e.preventDefault();\n\n  const query = refs.searchInput.value.trim();\n\n  if (!query || '') {\n    toastError('Please, enter text');\n    return;\n  }\n\n  refs.searchClearBtn.classList.remove('hidden');\n  clearActiveCategory();\n\n  currentQuery = query;\n  currentPage = 1;\n\n  try {\n    showLoader();\n    const { products } = await api.searchAllProducts(query, currentPage);\n\n    refs.productsList.innerHTML = '';\n\n    const q = query.toLowerCase();\n\n    const filtered = products.filter(product => {\n      const titleMatch = product.title.toLowerCase().includes(q);\n      const categoryMatch = product.category.toLowerCase().includes(q);\n      const tagsMatch = product.tags?.some(tag =>\n        tag.toLowerCase().includes(q)\n      );\n      return titleMatch || categoryMatch || tagsMatch;\n    });\n\n    if (filtered.length === 0) {\n      showNotFound();\n      return;\n    }\n\n    hideNotFound();\n    renderProducts(filtered);\n    hideLoader();\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function showNotFound() {\n  refs.notFound.classList.add('not-found--visible');\n}\n\nexport function hideNotFound() {\n  refs.notFound.classList.remove('not-found--visible');\n}\n\nexport async function onSearchClear() {\n  refs.searchInput.addEventListener('input', () => {\n    if (refs.searchInput.value.trim()) {\n      refs.searchClearBtn.classList.remove('hidden');\n    } else {\n      refs.searchClearBtn.classList.add('hidden');\n    }\n  });\n\n  refs.searchClearBtn.addEventListener('click', () => {\n    refs.searchInput.value = '';\n    refs.searchClearBtn.classList.add('hidden');\n\n    currentCategory = 'All';\n    currentQuery = '';\n    currentPage = 1;\n\n    loadProducts({ reset: true });\n  });\n}\n\nexport function initScrollUp() {\n  if (!refs.scrollUpBtn) return;\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 300) {\n      refs.scrollUpBtn.classList.add('scroll-top-btn--visible');\n    } else {\n      refs.scrollUpBtn.classList.remove('scroll-top-btn--visible');\n    }\n  });\n  refs.scrollUpBtn.addEventListener('click', () =>\n    window.scrollTo({ top: 0, behavior: 'smooth' })\n  );\n}\n\nexport function syncModalButtons(productId) {\n  const wishlistBtn = refs.modal.querySelector('.modal-product__btn--wishlist');\n  const cartBtn = refs.modal.querySelector('.modal-product__btn--cart');\n\n  if (wishlistBtn) {\n    wishlistBtn.textContent = storage.isInWishlist(productId)\n      ? 'Remove from Wishlist'\n      : 'Add to Wishlist';\n  }\n\n  if (cartBtn) {\n    cartBtn.textContent = storage.isInCart(productId)\n      ? 'Remove from Cart'\n      : 'Add to Cart';\n  }\n}\n\nlet onCartChanged = null;\nlet onWishlistChanged = null;\n\nexport function setCartChangeHandler(cb) {\n  onCartChanged = cb;\n}\n\nexport function setWishlistChangeHandler(cb) {\n  onWishlistChanged = cb;\n}"],"names":["refs","saveToLS","key","value","error","loadFromLS","data","getTheme","saveTheme","theme","getCart","addToCart","id","arr","removeFromCart","i","isInCart","getWishlist","addToWishlist","removeFromWishlist","isInWishlist","API_BASE_URL","API_ENDPOINTS","ITEMS_PER_PAGE","axios","getProducts","page","skip","getCategories","getProductById","searchProducts","q","searchAllProducts","getProductsByCategory","category","cat","renderProducts","products","markup","thumbnail","description","title","price","brand","renderCategories","categories","item","renderModalProduct","product","modalRoot","tag","updateNavCount","cartEl","wishlistEl","cartCount","wishlistCount","toggleTheme","showLoader","hideLoader","toastSuccess","msg","iziToast","toastError","toastInfo","clearActiveCategory","activeBtn","openModal","onEscPress","onBackDropClick","closeModal","e","currentPage","currentCategory","currentQuery","totalProducts","initHomePage","api.getCategories","loadProducts","err","reset","resp","api.searchProducts","api.getProductsByCategory","api.getProducts","append","categoriesClickHandler","btn","b","loadProductsAll","loadProductsByCategory","checkFound","openProductModal","productId","api.getProductById","syncModalButtons","attachModalButtons","productsClickHandler","li","wishlistBtn","cartBtn","buyBtn","storage.isInWishlist","storage.removeFromWishlist","storage.addToWishlist","onWishlistChanged","storage.isInCart","storage.removeFromCart","storage.addToCart","onCartChanged","loadMoreHandler","searchSubmitHandler","query","api.searchAllProducts","filtered","titleMatch","categoryMatch","tagsMatch","showNotFound","hideNotFound","onSearchClear","initScrollUp","setCartChangeHandler","cb","setWishlistChangeHandler"],"mappings":"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"}